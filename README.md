# 디저트 중독자들만 모이는 우린 Sweeter :cake:
![image](https://github.com/Daily-manjoo/Sweeter/assets/122348173/fb136e22-8104-4a48-85fa-f193df94b866)

<br/>

## 프로젝트 소개
* Sweeter는 디저트를 좋아하는 사람들이 자신의 입맛 취향을 사진으로 공유할 수 있는 SNS입니다.
* 해시태그 검색을 통해 취향이 비슷한 다른 유저들의 게시글을 구경할 수 있습니다.
* 다양한 유저들을 팔로우하며 해당 게시글에 좋아요를 누르거나 댓글을 작성할 수 있습니다.
* 내가 좋아요를 누른 게시글만 따로 모아보기를 할 수 있습니다.

<br/>

## 🖥️ Tech Stack

![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB)
![Firebase](https://img.shields.io/badge/Firebase-039BE5?style=for-the-badge&logo=Firebase&logoColor=white)
![SASS](https://img.shields.io/badge/SASS-hotpink.svg?style=for-the-badge&logo=SASS&logoColor=white)
![Recoil](https://img.shields.io/badge/recoil-f26b00?style=for-the-badge&logo={})
![Vercel](https://img.shields.io/badge/vercel-%23000000.svg?style=for-the-badge&logo=vercel&logoColor=white)

<br/>

## Trouble Shooting

<details>
  <summary> 프로필 이미지 삭제 후 수정 시 Firebase Storage: Invalid URL 에러 </summary>

  - 프로필 이미지는 Firebase storage의 user?.photoURL로 접근을 한다.
하지만 사용자 기본 이미지는 src폴더 내의 사진으로 미리 설정했기 때문에 기본 이미지 삭제 시 storage의 이미지가 아니어서 에러가 발생했다. 
  - storage에 직접 업로드한 imageUrl들은 https://firebasestorage.googleapi.com으로 시작하기 때문에 해당 string이 포함되지 않은 이미지의 경우는 삭제가 되지 않도록 설정했다.
  
</details>

<details>
  <summary> 게시글 조회 시 FirebaseFirestoreException:FAILED_PRECONDITION 에러 </summary>

  - 파이어베이스는 단일 쿼리에 2개 이상의 where 조건을 사용할 시
Cloud firestore에서 따로 색인을 추가해줘야 한다.
스토어 색인 탭에서 필터링할 필드를 (ex: orderBy, createAt) 추가 지정하고 등록하면 조회가 가능하다.
  
</details>

<details>
  <summary> 팔로잉한 글 조회 시 Invalid Query. A non-empty array is required for 'in' filters 에러 </summary>

  - in 필터로 followingId 배열 안을 확인해야 하는데 해당 useState의 타입을 [ ]로 썼기 때문에 일치하는 값이 없어 쿼리가 어떤 것도 반환하지 않았다.
그래서 빈 문자열로 넣어줬더니 해결되었다.
  
</details>

<br/>

## 프로젝트 구조

```
📦 
.env
.gitignore
README.md
├─ assets
│  └─ css
│     └─ index.css
├─ package.json
public
│  ├─ favicon.ico
│  ├─ index.html
│  ├─ logo192.png
│  ├─ logo512.png
│  ├─ manifest.json
│  └─ robots.txt
├─ src
│  ├─ App.tsx
│  ├─ _utils.scss
│  ├─ atom
│  │  └─ index.tsx
│  ├─ components
Layout.tsx
Menu.tsx
Router.tsx
│  │  ├─ comments
│  │  │  ├─ Comment.module.scss
│  │  │  ├─ CommentBox.tsx
│  │  │  └─ CommentForm.tsx
│  │  ├─ following
│  │  │  └─ FollowingBox.tsx
loader
│  │  │  ├─ Loader.module.scss
│  │  │  └─ Loader.tsx
notifications
│  │  │  ├─ Notification.module.scss
│  │  │  └─ NotificationBox.tsx
posts
│  │  │  ├─ Header.tsx
│  │  │  ├─ PostBox.tsx
│  │  │  ├─ PostEditForm.tsx
│  │  │  └─ PostForm.tsx
│  │  └─ users
│  │     ├─ LoginForm.tsx
│  │     └─ SignupForm.tsx
│  ├─ constants
│  │  └─ languags.ts
│  ├─ context
│  │  └─ AuthContext.tsx
│  ├─ firebaseApp.ts
│  ├─ hooks
│  │  └─ useTranslation.tsx
│  ├─ index.scss
│  ├─ index.tsx
│  ├─ logo.svg
│  ├─ pages
│  │  ├─ home
│  │  │  └─ index.tsx
│  │  ├─ notification
│  │  │  └─ index.tsx
│  │  ├─ posts
│  │  │  ├─ detail.tsx
│  │  │  ├─ edit.tsx
│  │  │  ├─ index.tsx
│  │  │  └─ new.tsx
│  │  ├─ profile
│  │  │  ├─ edit.tsx
│  │  │  └─ index.tsx
│  │  ├─ search
│  │  │  └─ index.tsx
│  │  └─ users
│  │     ├─ login.tsx
│  │     └─ signup.tsx
│  └─ react-app-env.d.ts
├─ tsconfig.json
└─ yarn.lock
```
©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)
